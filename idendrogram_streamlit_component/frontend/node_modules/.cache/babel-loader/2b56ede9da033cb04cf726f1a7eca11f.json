{"ast":null,"code":"import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport { phi, squarifyRatio } from \"./squarify.js\";\nexport default (function custom(ratio) {\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && rows.ratio === ratio) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) {\n          row.value += nodes[i].value;\n        }\n\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function (x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);","map":{"version":3,"names":["treemapDice","treemapSlice","phi","squarifyRatio","custom","ratio","resquarify","parent","x0","y0","x1","y1","rows","_squarify","row","nodes","i","j","n","m","length","value","children","dice","x"],"sources":["/home/aurimas/coding/idendro-streamlit/idendrogram_streamlit_component/frontend/node_modules/d3-hierarchy/src/treemap/resquarify.js"],"sourcesContent":["import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,WAAxB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,SAAQC,GAAR,EAAaC,aAAb,QAAiC,eAAjC;AAEA,eAAe,CAAC,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAErC,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwCC,EAAxC,EAA4C;IAC1C,IAAI,CAACC,IAAI,GAAGL,MAAM,CAACM,SAAf,KAA8BD,IAAI,CAACP,KAAL,KAAeA,KAAjD,EAAyD;MACvD,IAAIO,IAAJ;MAAA,IACIE,GADJ;MAAA,IAEIC,KAFJ;MAAA,IAGIC,CAHJ;MAAA,IAIIC,CAAC,GAAG,CAAC,CAJT;MAAA,IAKIC,CALJ;MAAA,IAMIC,CAAC,GAAGP,IAAI,CAACQ,MANb;MAAA,IAOIC,KAAK,GAAGd,MAAM,CAACc,KAPnB;;MASA,OAAO,EAAEJ,CAAF,GAAME,CAAb,EAAgB;QACdL,GAAG,GAAGF,IAAI,CAACK,CAAD,CAAV,EAAeF,KAAK,GAAGD,GAAG,CAACQ,QAA3B;;QACA,KAAKN,CAAC,GAAGF,GAAG,CAACO,KAAJ,GAAY,CAAhB,EAAmBH,CAAC,GAAGH,KAAK,CAACK,MAAlC,EAA0CJ,CAAC,GAAGE,CAA9C,EAAiD,EAAEF,CAAnD;UAAsDF,GAAG,CAACO,KAAJ,IAAaN,KAAK,CAACC,CAAD,CAAL,CAASK,KAAtB;QAAtD;;QACA,IAAIP,GAAG,CAACS,IAAR,EAAcvB,WAAW,CAACc,GAAD,EAAMN,EAAN,EAAUC,EAAV,EAAcC,EAAd,EAAkBW,KAAK,GAAGZ,EAAE,IAAI,CAACE,EAAE,GAAGF,EAAN,IAAYK,GAAG,CAACO,KAAhB,GAAwBA,KAAjC,GAAyCV,EAAhE,CAAX,CAAd,KACKV,YAAY,CAACa,GAAD,EAAMN,EAAN,EAAUC,EAAV,EAAcY,KAAK,GAAGb,EAAE,IAAI,CAACE,EAAE,GAAGF,EAAN,IAAYM,GAAG,CAACO,KAAhB,GAAwBA,KAAjC,GAAyCX,EAA5D,EAAgEC,EAAhE,CAAZ;QACLU,KAAK,IAAIP,GAAG,CAACO,KAAb;MACD;IACF,CAjBD,MAiBO;MACLd,MAAM,CAACM,SAAP,GAAmBD,IAAI,GAAGT,aAAa,CAACE,KAAD,EAAQE,MAAR,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,CAAvC;MACAC,IAAI,CAACP,KAAL,GAAaA,KAAb;IACD;EACF;;EAEDC,UAAU,CAACD,KAAX,GAAmB,UAASmB,CAAT,EAAY;IAC7B,OAAOpB,MAAM,CAAC,CAACoB,CAAC,GAAG,CAACA,CAAN,IAAW,CAAX,GAAeA,CAAf,GAAmB,CAApB,CAAb;EACD,CAFD;;EAIA,OAAOlB,UAAP;AACD,CA/Bc,EA+BZJ,GA/BY,CAAf"},"metadata":{},"sourceType":"module"}