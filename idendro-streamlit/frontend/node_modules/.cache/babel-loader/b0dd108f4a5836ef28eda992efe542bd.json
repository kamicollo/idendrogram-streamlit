{"ast":null,"code":"export default function (parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i,\n      n = nodes.length,\n      sum,\n      sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = value / 2 + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;else hi = mid;\n    }\n\n    if (valueTarget - sums[k - 1] < sums[k] - valueTarget && i + 1 < k) --k;\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if (x1 - x0 > y1 - y0) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}","map":{"version":3,"names":["parent","x0","y0","x1","y1","nodes","children","i","n","length","sum","sums","Array","value","partition","j","node","valueOffset","valueTarget","k","hi","mid","valueLeft","valueRight","xk","yk"],"sources":["/home/aurimas/coding/idendro/frontend/node_modules/d3-hierarchy/src/treemap/binary.js"],"sourcesContent":["export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}