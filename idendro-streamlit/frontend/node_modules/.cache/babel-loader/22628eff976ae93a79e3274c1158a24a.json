{"ast":null,"code":"import projection from \"./index.js\";\nimport { abs, asin, cos, epsilon2, sin, sqrt } from \"../math.js\";\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)),\n      l2 = l * l,\n      l6 = l2 * l2 * l2;\n  return [lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))), l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))];\n}\n\nequalEarthRaw.invert = function (x, y) {\n  var l = y,\n      l2 = l * l,\n      l6 = l2 * l2 * l2;\n\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n\n  return [M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l), asin(sin(l) / M)];\n};\n\nexport default function () {\n  return projection(equalEarthRaw).scale(177.158);\n}","map":{"version":3,"names":["projection","abs","asin","cos","epsilon2","sin","sqrt","A1","A2","A3","A4","M","iterations","equalEarthRaw","lambda","phi","l","l2","l6","invert","x","y","i","delta","fy","fpy","scale"],"sources":["/home/aurimas/coding/idendro/frontend/node_modules/d3-geo/src/projection/equalEarth.js"],"sourcesContent":["import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAAQC,GAAR,EAAaC,IAAb,EAAmBC,GAAnB,EAAwBC,QAAxB,EAAkCC,GAAlC,EAAuCC,IAAvC,QAAkD,YAAlD;AAEA,IAAIC,EAAE,GAAG,QAAT;AAAA,IACIC,EAAE,GAAG,CAAC,QADV;AAAA,IAEIC,EAAE,GAAG,QAFT;AAAA,IAGIC,EAAE,GAAG,QAHT;AAAA,IAIIC,CAAC,GAAGL,IAAI,CAAC,CAAD,CAAJ,GAAU,CAJlB;AAAA,IAKIM,UAAU,GAAG,EALjB;AAOA,OAAO,SAASC,aAAT,CAAuBC,MAAvB,EAA+BC,GAA/B,EAAoC;EACzC,IAAIC,CAAC,GAAGd,IAAI,CAACS,CAAC,GAAGN,GAAG,CAACU,GAAD,CAAR,CAAZ;EAAA,IAA4BE,EAAE,GAAGD,CAAC,GAAGA,CAArC;EAAA,IAAwCE,EAAE,GAAGD,EAAE,GAAGA,EAAL,GAAUA,EAAvD;EACA,OAAO,CACLH,MAAM,GAAGX,GAAG,CAACa,CAAD,CAAZ,IAAmBL,CAAC,IAAIJ,EAAE,GAAG,IAAIC,EAAJ,GAASS,EAAd,GAAmBC,EAAE,IAAI,IAAIT,EAAJ,GAAS,IAAIC,EAAJ,GAASO,EAAtB,CAAzB,CAApB,CADK,EAELD,CAAC,IAAIT,EAAE,GAAGC,EAAE,GAAGS,EAAV,GAAeC,EAAE,IAAIT,EAAE,GAAGC,EAAE,GAAGO,EAAd,CAArB,CAFI,CAAP;AAID;;AAEDJ,aAAa,CAACM,MAAd,GAAuB,UAASC,CAAT,EAAYC,CAAZ,EAAe;EACpC,IAAIL,CAAC,GAAGK,CAAR;EAAA,IAAWJ,EAAE,GAAGD,CAAC,GAAGA,CAApB;EAAA,IAAuBE,EAAE,GAAGD,EAAE,GAAGA,EAAL,GAAUA,EAAtC;;EACA,KAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,KAAX,EAAkBC,EAAlB,EAAsBC,GAA3B,EAAgCH,CAAC,GAAGV,UAApC,EAAgD,EAAEU,CAAlD,EAAqD;IACnDE,EAAE,GAAGR,CAAC,IAAIT,EAAE,GAAGC,EAAE,GAAGS,EAAV,GAAeC,EAAE,IAAIT,EAAE,GAAGC,EAAE,GAAGO,EAAd,CAArB,CAAD,GAA2CI,CAAhD;IACAI,GAAG,GAAGlB,EAAE,GAAG,IAAIC,EAAJ,GAASS,EAAd,GAAmBC,EAAE,IAAI,IAAIT,EAAJ,GAAS,IAAIC,EAAJ,GAASO,EAAtB,CAA3B;IACAD,CAAC,IAAIO,KAAK,GAAGC,EAAE,GAAGC,GAAlB,EAAuBR,EAAE,GAAGD,CAAC,GAAGA,CAAhC,EAAmCE,EAAE,GAAGD,EAAE,GAAGA,EAAL,GAAUA,EAAlD;IACA,IAAIhB,GAAG,CAACsB,KAAD,CAAH,GAAanB,QAAjB,EAA2B;EAC5B;;EACD,OAAO,CACLO,CAAC,GAAGS,CAAJ,IAASb,EAAE,GAAG,IAAIC,EAAJ,GAASS,EAAd,GAAmBC,EAAE,IAAI,IAAIT,EAAJ,GAAS,IAAIC,EAAJ,GAASO,EAAtB,CAA9B,IAA2Dd,GAAG,CAACa,CAAD,CADzD,EAELd,IAAI,CAACG,GAAG,CAACW,CAAD,CAAH,GAASL,CAAV,CAFC,CAAP;AAID,CAZD;;AAcA,eAAe,YAAW;EACxB,OAAOX,UAAU,CAACa,aAAD,CAAV,CACFa,KADE,CACI,OADJ,CAAP;AAED"},"metadata":{},"sourceType":"module"}